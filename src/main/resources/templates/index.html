<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>æ·±åœ³æŸ¯èµ›æ ‡è¯†å·¥ç¨‹æœ‰é™å…¬å¸</title>
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">


    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" type="text/css" href="/static/lib/bootstrap/css/bootstrap.css"/>
    <link rel="stylesheet" href="/static/lib/font-awesome/css/font-awesome.css"/>

    <script src="/static/lib/jquery-3.3.1.min.js" type="text/javascript"></script>
    <!--<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.11.1.min.js "></script>-->

    <link rel="stylesheet" type="text/css" href="/static/stylesheets/theme.css"/>
    <link rel="stylesheet" type="text/css" href="/static/stylesheets/premium.css"/>

</head>
<body class=" theme-blue">

<!-- Demo page code -->

<script type="text/javascript">
    $(function () {
        window.parent.document.getElementById('content').style.display = "block";
        window.parent.document.getElementById('contentnew').style.display = "none";
        var match = document.cookie.match(new RegExp('color=([^;]+)'));
        if (match) var color = match[1];
        if (color) {
            $('body').removeClass(function (index, css) {
                return (css.match(/\btheme-\S+/g) || []).join(' ')
            })
            $('body').addClass('theme-' + color);
        }
        $('[data-popover="true"]').popover({html: true});
        // var flag = $("#flag").val();
        // if (flag == "false") {
        //     $("#showwrongmessage").html(" <h1><font color=\"#FF0000\">ç”¨æˆ·åä¸å¯†ç å€Ÿè¯¯</font></h1>");
        //     $("#username").val("");
        //     $("#password").val("")
        //     $("#uid").val("");
        // } else {
        //     $("#showwrongmessage").html("");
        // }
    });
</script>
<style type="text/css">
    .navbar-default .navbar-brand, .navbar-default .navbar-brand:hover {
        color: #fff;
    }


</style>

<script type="text/javascript">
    var usernameflag = false;
    var passwordflag = false;
    var uidflag = false;
    $(function () {
        if (window.top != window.self) {
            window.top.location.href = window.self.location.href;
        }
        var flag=$("#flagstatus").val();
        var showerrmessage = document.getElementById("showerrmessage");
        if(flag=="false"){
            showerrmessage.innerHTML = "ç”¨æˆ·åä¸å¯†ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼";
            showerrmessage.style.color = "red";
            $("#username").val("");
            $("#password").val("")
            $("#uid").val("");
        }else if(flag=="3"){
            showerrmessage.innerHTML = "ç”¨æˆ·æ³¨å†ŒæˆåŠŸ,è¯·è®©ä¸Šçº§å®¡æ ¸åå†ç™»å½•ï¼";
            showerrmessage.style.color = "red";
        }else if(flag=="0"){
            showerrmessage.innerHTML = "æ‚¨æ³¨å†Œçš„ç”¨æˆ·æœªç»è¿‡ä¸Šçº§å®¡æ ¸ï¼";
            showerrmessage.style.color = "red";
        } else if(flag=="2"){
            showerrmessage.innerHTML = "æ‚¨æ³¨å†Œçš„ç”¨æˆ·ä¸Šçº§å®¡æ ¸æœªé€šè¿‡ï¼";
            showerrmessage.style.color = "red";
        } else{
            showerrmessage.innerHTML = "";
        }
        var uls = $('.sidebar-nav > ul > *').clone();
        uls.addClass('visible-xs');
        $('#main-menu').append(uls.clone());
    });
    function checksubmitdata() {
        var showerrmessage = document.getElementById("showerrmessage");
        checkpassword();
        checkusername();
        showerrmessage.innerHTML = "";
        if(usernameflag&passwordflag){
            return true;
        }
        showerrmessage.innerHTML = "è¯·å…ˆå¡«å†™ç”¨æˆ·åå’Œå¯†ç ï¼";
        showerrmessage.style.color = "red";
        return false;
    }
    function checkpassword() {
        var showerrmessage = document.getElementById("showerrmessage");
        showerrmessage.innerHTML = "";
        var password = $("#password").val();
        var passworderr = document.getElementById("passworderr");
        var passwordregul = /^[a-zA-Z]\w{4,11}$/;
        if (passwordregul.test(password)) {
            passworderr.innerHTML="";
            passwordflag = true;
        } else {
            passworderr.innerHTML="ä»¥å­—æ¯å¼€å¤´ï¼Œé•¿åº¦åœ¨5~12ä¹‹é—´ï¼Œåªèƒ½åŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿";
            passworderr.style.color="red";
            passwordflag = false;
        }
        checkusername;
    }
    // å½“é¼ æ ‡ä¸èšç„¦éªŒè¯ç”¨æˆ·åinput
    function checkusername() { // æ‰¾åˆ°id=result_nameçš„div
        var showerrmessage = document.getElementById("showerrmessage");
        showerrmessage.innerHTML = "";
        var nameObj = document.getElementById("usererro"); // åˆ¤æ–­ç”¨æˆ·åæ˜¯å¦åˆæ³•
        var username = $("#username").val();
        var str2 = check_user_name(username);
        nameObj.style.color = "red";
        if ("è¯¥ç”¨æˆ·ååˆæ³•" == str2) {
            usernameflag = true;
            nameObj.innerHTML = "";
        } else {
            usernameflag = false;
            nameObj.innerHTML = str2;
        }
        checkpassword();
    }
    // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦åˆæ³•    åˆæ³•å°±è¿”å›"è¯¥ç”¨æˆ·ååˆæ³•"
    function check_user_name(str) {
        var str2 = "è¯¥ç”¨æˆ·ååˆæ³•";
        if ("" == str) {
            str2 = "ç”¨æˆ·åä¸ºç©º";
            return str2;
        } else if ((str.length < 4) || (str.length > 20)) {
            str2 = "ç”¨æˆ·åå¿…é¡»ä¸º4 ~ 20ä½";
            return str2;
        } else if (check_other_char(str)) {
            str2 = "ä¸èƒ½å«æœ‰ç‰¹æ®Šå­—ç¬¦";
            return str2;
        }
        return str2;
    }
    // éªŒè¯ç”¨æˆ·åæ˜¯å¦å«æœ‰ç‰¹æ®Šå­—ç¬¦
    function check_other_char(str) {
        var arr = ["&", "\\", "/", "*", ">", "<", "@", "!"];
        for (var i = 0; i < arr.length; i++) {
            for (var j = 0; j < str.length; j++) {
                if (arr[i] == str.charAt(j)) {
                    return true;
                }
            }
        }
        return false;
    }
</script>

<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Le fav and touch icons -->
<link rel="shortcut icon" href="../assets/ico/favicon.ico">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">


<!--[if lt IE 7 ]>
<body class="ie ie6"> <![endif]-->
<!--[if IE 7 ]>
<body class="ie ie7 "> <![endif]-->
<!--[if IE 8 ]>
<body class="ie ie8 "> <![endif]-->
<!--[if IE 9 ]>
<body class="ie ie9 "> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->

<!--<![endif]-->

<div class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <a class="" href="index.html"><span class="navbar-brand"><span class="fa fa-paper-plane"></span>æ·±åœ³æŸ¯èµ›æ ‡è¯†å·¥ç¨‹æœ‰é™å…¬å¸ </span></a>
    </div>

    <div class="navbar-collapse collapse" style="height: 1px;">

    </div>
</div>
</div>


<div class="dialog" style="width: 100%">
    <div class="panel panel-default">
        <p class="panel-heading no-collapse">ç™»å½•</p>
        <div class="panel-body">
            <form id="loginform"   th:action="@{/account/login}"  th:object="${view}" method="post">
                <input type="hidden" id="flagstatus" th:field="*{flag}" >
                <div class="form-group">
                    <label> <font color="#FF0000" size="2">*</font>ç”¨æˆ·å</label>
                    <input type="text" class="form-control span12" id="username"  th:field="*{userName}"  onblur="checkusername()" >
                    <div id="usererro"></div>
                </div>
                <div class="form-group">
                    <label> <font color="#FF0000" size="2">*</font>å¯†ç </label>
                    <input type="password" class="form-controlspan12 form-control" id="password"  th:field="*{password}"
                           onblur="checkpassword()"><div id="passworderr"></div>

                </div>
                <div class="form-group">
                    <label>ç¼–å·</label>
                    <input type="text" class="form-controlspan12 form-control" id="uid" onblur="checkuid(this)"
                    ><div id=""></div>
                </div>
                <div id="showerrmessage"></div>
                <input type="submit" onclick="return checksubmitdata()"; class="btn btn-primary pull-right" value="ç™»å½•"></input>
                <!--<label class="remember-me"><input type="checkbox" onclick='alert("doing")'> è®°ä½å¯†ç </label>-->
                <div class="clearfix"></div>
            </form>
        </div>
    </div>
    <!--<p class="pull-right" style=""><a href="http://www.portnine.com" target="blank" style="font-size: .75em; margin-top: .25em;">Design by Portnine</a></p>-->
    <p>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;



        <a th:href="@{/account/toregister}">æ³¨å†Œ</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a th:href="@{/account/toforgetpasswordpage}">å¿˜è®°å¯†ç ?</a></p>
</div>


<script src="/static/lib/bootstrap/js/bootstrap.js"></script>
<script type="text/javascript">
    $("[rel=tooltip]").tooltip();
    $(function () {
        $('.demo-cancel-click').click(function () {
            return false;
        });
    });
</script>


</body>
</html>